{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug app-example (linux-x11 in Docker)",
      "type": "cppdbg",
      "request": "launch",
      "program": "/work/build-linux-x11/examples/app-example",
      "cwd": "/work/build-linux-x11",
      "MIMode": "gdb",
      "externalConsole": false,
      "preLaunchTask": "Build (linux-x11, Docker)",
      "sourceFileMap": { "/work": "${workspaceFolder}" },
      "setupCommands": [
        { "text": "-enable-pretty-printing", "description": "Enable pretty printing", "ignoreFailures": true },
        { "text": "-gdb-set pagination off", "description": "No pagination", "ignoreFailures": true }
      ],
      "pipeTransport": {
        "pipeProgram": "docker",
        "pipeArgs": [
          "run","--rm","-i",
          "-v","${workspaceFolder}:/work",
          "-w","/work",
          "-e","DISPLAY",
          "-v","/tmp/.X11-unix:/tmp/.X11-unix",
          "--network=host",
          "native-build:linux-x11",
          "/usr/bin/gdb","--interpreter=mi"  // ← critical
        ],
        "debuggerPath": "/usr/bin/gdb",
        "pipeCwd": "${workspaceFolder}",
        "quoteArgs": true
      }
    },
    {
      "name": "Debug painter-example (linux-x11 in Docker)",
      "type": "cppdbg",
      "request": "launch",
      "program": "/work/build-linux-x11/examples/painter-example",
      "cwd": "/work/build-linux-x11",
      "MIMode": "gdb",
      "externalConsole": false,
      "preLaunchTask": "Build (linux-x11, Docker)",
      "sourceFileMap": { "/work": "${workspaceFolder}" },
      "setupCommands": [
        { "text": "-enable-pretty-printing", "description": "Enable pretty printing", "ignoreFailures": true },
        { "text": "-gdb-set pagination off", "description": "No pagination", "ignoreFailures": true }
      ],
      "pipeTransport": {
        "pipeProgram": "docker",
        "pipeArgs": [
          "run","--rm","-i",
          "-v","${workspaceFolder}:/work",
          "-w","/work",
          "-e","DISPLAY",
          "-v","/tmp/.X11-unix:/tmp/.X11-unix",
          "--network=host",
          "native-build:linux-x11",
          "/usr/bin/gdb","--interpreter=mi"  // ← critical
        ],
        "debuggerPath": "/usr/bin/gdb",
        "pipeCwd": "${workspaceFolder}",
        "quoteArgs": true
      }
    }
  ]
}
